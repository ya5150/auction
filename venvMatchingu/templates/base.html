<!doctype html>
{% load static %}
<html lang="ja">
  <head><!--headに全部書いてしまったが今回はこのまま-->
  
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'basestyle.css' %}">
    <title>オークションアプリ</title>
    
    

    
    
    
    
    
    
    
   
    <style>
      .side {
        position: fixed;
        top: 0;
        left: 0;
        width: 200px;
        height: 100%;
        background-color: #f8f9fa;
        padding: 20px;
      }
    </style>
     {% block popup %}
     <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the page loads, check if the URL has the "success" parameter
        window.onload = function() {
          var urlParams = new URLSearchParams(window.location.search);
          var success = urlParams.get('success');
          if (success) {
            document.querySelector("#myModal p").textContent = success;
            modal.style.display = "block";
          }
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
          modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
          if (event.target == modal) {
            modal.style.display = "none";
          }
        }
        </script>
        
     <div id="myModal" class="modal">
        <div class="modal-content">
          <p>a</p>
        </div>
      </div>
      
     
     {% endblock popup %}
    {% block side %}
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="side">
          <!--サイドバー-->
    <div class="d-flex flex-column p-3 bg-light">
        <a href="#" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
            <span class="fs-4">サイドバー</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
            <li class="nav-item">
                <a href="http://127.0.0.1:8000/login" class="nav-link link-dark">
                    ログイン
                </a>
            </li>
            <li class="nav-item">
                <a href="http://127.0.0.1:8000/logout" class="nav-link link-dark">
                    ログアウト
                </a>
            </li>
            <li class="nav-item">
                <a href="http://127.0.0.1:8000/signup" class="nav-link link-dark">
                    新規会員登録
                </a>
            </li>
            <li class="nav-item">
                <a href="http://127.0.0.1:8000/productlist" class="nav-link link-dark">
                    一覧を見る
                </a>
            </li>
            {% if user.is_authenticated %}
            <li class="nav-item">
                <a href="{% url 'user_products' user.id %}" class="nav-link link-dark">
                    出品済み商品の確認
                </a>
            </li>
            {% else %}
            <li class="nav-item">
                <a href="{% url 'login' %}" class="nav-link link-dark">
                    出品済み商品の確認(ログインが必要です)
                </a>
            </li>
            {% endif %}
            {% if user.is_authenticated %}
            <li class="nav-item">
                <a href="http://127.0.0.1:8000/productcreate" class="nav-link link-dark">
                    出品する
                </a>
            </li>
            {% else %}
            <li class="nav-item">
                <a href="{% url 'login' %}" class="nav-link link-dark">
                    出品する(ログインが必要です)
                </a>
            </li>
            {% endif %}
            {% if user.is_authenticated %}
            <li class="nav-item">
                <a href="{% url 'user_nyusatu_products' user.id %}" class="nav-link link-dark">
                    入札済み一覧
                </a>
            </li>
            {% else %}
            <li class="nav-item">
                <a href="{% url 'login' %}" class="nav-link link-dark">
                    入札済み一覧(ログインが必要です)
                </a>
            </li>
            {% endif %}
        </ul>
    </div>
    
  </div>
</div>
<div class="col-md-9"><!--サイドバーの右側-->
  <!--ユーザー名を表示-->
  {% if user.is_authenticated %}
  <p>username: {{ user.username }}</p>
  {% endif %}
  <!--ユーザー名を表示-->
    {% block header %}
    {% endblock header %}
  {% block content %}
  {% endblock content %}
</div>
</div>
</div>
{% endblock %}


    {% block customcss %}
    
    {% endblock customcss %}
    
 
          
    
  </head>


    

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
  
</html>